<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Clicker King: Final Restore</title>
    <style>
        :root { --accent: #38bdf8; --bg: #0f172a; --gold: #f59e0b; --diamond: #00f2ff; --purple: #a855f7; --red: #ff4444; --admin: #22c55e; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Segoe UI', sans-serif; }
        body { background: var(--bg); color: white; margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; overflow: hidden; transition: 0.5s; }

        /* Ğ¤Ğ¾Ğ½Ğ¸ */
        .bg-ukraine { background: linear-gradient(to bottom, #0057b7 50%, #ffd700 50%) !important; }
        .bg-space { background: radial-gradient(circle, #1e1b4b, #000) !important; }
        .bg-neon { background: linear-gradient(135deg, #ff00ff, #00ffff) !important; }
        .bg-gold { background: radial-gradient(circle, #fff7ad, #ffa200) !important; }
        .bg-king { background: linear-gradient(45deg, #f59e0b, #78350f, #facc15) !important; animation: shine 3s infinite alternate; }
        @keyframes shine { from { filter: brightness(1); } to { filter: brightness(1.2); } }

        .card { background: rgba(15, 23, 42, 0.95); padding: 20px; border-radius: 30px; width: 95%; max-width: 400px; text-align: center; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px); }
        .income-info { font-size: 0.8rem; color: #4ade80; margin-bottom: 10px; font-weight: bold; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 12px; }
        
        #click-btn { 
            width: 120px; height: 120px; border-radius: 50%; border: none; 
            background: var(--accent); color: white; font-size: 3.5rem; 
            cursor: pointer; box-shadow: 0 8px 25px rgba(56,189,248,0.4); 
            margin: 15px auto; transition: 0.1s; display: flex; align-items: center; justify-content: center;
        }
        #click-btn:active { transform: scale(0.9); }
        .skin-ua { background: linear-gradient(#0057b7, #ffd700) !important; border-radius: 20px !important; }
        .skin-king { background: radial-gradient(#fff7ad, #ffa200) !important; box-shadow: 0 0 30px gold !important; }

        .tabs { display: grid; grid-template-columns: repeat(5, 1fr); gap: 4px; margin-bottom: 15px; }
        .tabs.admin-active { grid-template-columns: repeat(6, 1fr); }
        .tab-btn { padding: 10px 2px; border: none; border-radius: 8px; background: #334155; color: white; font-size: 0.6rem; font-weight: bold; cursor: pointer; }
        .tab-btn.active { background: var(--accent); }

        .section { display: none; flex-direction: column; gap: 8px; max-height: 250px; overflow-y: auto; padding-right: 5px; }
        .section.active { display: flex; }

        .row { display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.04); padding: 10px; border-radius: 12px; }
        .action-btn { background: #22c55e; border: none; color: white; padding: 6px 10px; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 0.7rem; }
        .btn-owned { background: var(--purple) !important; }
    </style>
</head>
<body id="main-bg">

<div class="card">
    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-bottom:10px;">
        <div style="background:rgba(255,255,255,0.05); padding:10px; border-radius:15px;">ğŸ’° <span id="bal-c">0</span></div>
        <div style="background:rgba(255,255,255,0.05); padding:10px; border-radius:15px;">ğŸ’ <span id="bal-d">0</span></div>
    </div>

    <div id="income-display" class="income-info">ĞšĞ»Ñ–Ğº: +0</div>
    <button id="click-btn" onclick="doClick()">ĞšĞ›Ğ†Ğš</button>

    <div id="tab-bar" class="tabs">
        <button class="tab-btn active" onclick="tab('up', this)">ğŸš€</button>
        <button class="tab-btn" onclick="tab('th', this)">ğŸï¸</button>
        <button class="tab-btn" onclick="tab('sk', this)">ğŸ­</button>
        <button class="tab-btn" onclick="tab('cd', this)">ğŸ”‘</button>
        <button id="admin-tab-btn" class="tab-btn" style="display:none; color:var(--admin)" onclick="tab('ad', this)">âš¡</button>
        <button class="tab-btn" onclick="tab('st', this)">âš™ï¸</button>
    </div>

    <div id="up" class="section active">
        <div class="row"><div>Ğ¡Ğ¸Ğ»Ğ°<br><small id="p-lvl">Ğ›Ğ²Ğ» 1</small></div><button class="action-btn" onclick="buyP()" id="btn-p">10</button></div>
        <div class="row"><div>Rebirth (Max 100)<br><small id="r-lvl">0</small></div><button class="action-btn" onclick="doRebirth()" id="btn-r">1M</button></div>
    </div>

    <div id="th" class="section">
        <div class="row"><span>ğŸŒŒ ĞšĞ¾ÑĞ¼Ğ¾Ñ (x1.5)</span><button class="action-btn" id="btn-th-bg-space" onclick="buyTheme('bg-space', 5000, 'c')">5K</button></div>
        <div class="row"><span>ğŸ‡ºğŸ‡¦ Ğ£ĞºÑ€Ğ°Ñ—Ğ½Ğ° (x2)</span><button class="action-btn" id="btn-th-bg-ukraine" onclick="buyTheme('bg-ukraine', 15000, 'c')">15K</button></div>
        <div class="row"><span>ğŸŒˆ ĞĞµĞ¾Ğ½ (x15)</span><button class="action-btn" id="btn-th-bg-neon" onclick="buyTheme('bg-neon', 300, 'd')">300 ğŸ’</button></div>
        <div class="row"><span>âœ¨ Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ¾ (x50)</span><button class="action-btn" id="btn-th-bg-gold" onclick="buyTheme('bg-gold', 1000, 'd')">1K ğŸ’</button></div>
        <div class="row" id="k-th-row" style="display:none; border:1px solid gold;"><span>ğŸ‘‘ KING (Max)</span><button class="action-btn" id="btn-th-bg-king" onclick="setT('bg-king')">ĞĞ‘Ğ ĞĞ¢Ğ˜</button></div>
        <div class="row"><span>ğŸŒ‘ Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚</span><button class="action-btn" onclick="setT('')">ĞĞ‘Ğ ĞĞ¢Ğ˜</button></div>
    </div>

    <div id="sk" class="section">
        <div class="row"><span>ğŸ± ĞšĞ¾Ñ‚Ğ¸Ğº (x2)</span><button class="action-btn" id="btn-sk-cat" onclick="buySkin('cat', 50)">50 ğŸ’</button></div>
        <div class="row"><span>â¤ï¸ Ğ¡ĞµÑ€Ñ†Ğµ (x5)</span><button class="action-btn" id="btn-sk-heart" onclick="buySkin('heart', 150)">150 ğŸ’</button></div>
        <div class="row"><span>ğŸ‘½ ĞŸÑ€Ğ¸Ğ±ÑƒĞ»ĞµÑ†ÑŒ (x20)</span><button class="action-btn" id="btn-sk-alien" onclick="buySkin('alien', 500)">500 ğŸ’</button></div>
        <div class="row"><span>ğŸ”¥ Ğ’Ğ¾Ğ³Ğ¾Ğ½ÑŒ (x100)</span><button class="action-btn" id="btn-sk-fire" onclick="buySkin('fire', 1000)">1K ğŸ’</button></div>
        <div class="row" id="ua-sk-row" style="display:none; border:1px solid #0057b7"><span>ğŸ”± Ğ“Ğ•Ğ Ğ‘ (x500)</span><button class="action-btn" id="btn-sk-ua" onclick="setSkin('ua')">ĞĞ‘Ğ ĞĞ¢Ğ˜</button></div>
        <div class="row" id="king-sk-row" style="display:none; border:1px solid gold"><span>ğŸ‘‘ KING (+Sx)</span><button class="action-btn" id="btn-sk-king" onclick="setSkin('king')">ĞĞ‘Ğ ĞĞ¢Ğ˜</button></div>
        <div class="row"><span>ğŸ”µ Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚</span><button class="action-btn" onclick="setSkin('')">ĞĞ‘Ğ ĞĞ¢Ğ˜</button></div>
    </div>

    <div id="cd" class="section">
        <input type="text" id="promo" placeholder="Ğ’Ğ²ĞµĞ´Ñ–Ñ‚ÑŒ ĞºĞ¾Ğ´..." style="width:100%; padding:10px; border-radius:12px; border:none; background:rgba(255,255,255,0.1); color:white; text-align:center;">
        <button class="action-btn" style="width:100%; margin-top:10px;" onclick="applyCode()">ĞĞšĞ¢Ğ˜Ğ’Ğ£Ğ’ĞĞ¢Ğ˜</button>
    </div>

    <div id="ad" class="section">
        <h3 style="margin:0; font-size:0.8rem; color:var(--admin)">ADMIN PANEL</h3>
        <button class="action-btn" style="background:var(--admin); margin-top:5px;" onclick="state.c += 1e21; u();">+100 Ğ¡ĞµĞºÑÑ‚Ğ¸Ğ»ÑŒĞ¹Ğ¾Ğ½Ñ–Ğ²</button>
        <button class="action-btn" style="background:var(--admin); margin-top:5px;" onclick="state.d += 1000000; u();">+1M Ğ“ĞµĞ¼Ñ–Ğ²</button>
        <button class="action-btn" style="background:var(--admin); margin-top:5px;" onclick="state.rb = 100; state.p = 1e21; u();">ĞœĞ°ĞºÑ Ğ›Ñ–Ğ¼Ñ–Ñ‚Ğ¸</button>
        <button class="action-btn" style="background:var(--admin); margin-top:5px;" onclick="state.skins=['cat','heart','alien','fire','ua','king']; state.th.push('bg-king','bg-ukraine','bg-neon','bg-gold','bg-space'); u();">Ğ’Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ¸ Ğ’Ğ¡Ğ•</button>
    </div>

    <div id="st" class="section">
        <button class="action-btn" style="background:var(--red); width:100%" onclick="hardReset()">Ğ¡ĞšĞ˜ĞĞ£Ğ¢Ğ˜ ĞŸĞ ĞĞ“Ğ Ğ•Ğ¡</button>
    </div>
</div>

<script>
    let state = {
        c: parseFloat(localStorage.getItem('c_v19')) || 0,
        d: parseFloat(localStorage.getItem('d_v19')) || 0,
        p: parseFloat(localStorage.getItem('p_v19')) || 1,
        cs: parseFloat(localStorage.getItem('cs_v19')) || 10,
        rb: parseInt(localStorage.getItem('rb_v19')) || 0,
        th: JSON.parse(localStorage.getItem('th_v19')) || [],
        skins: JSON.parse(localStorage.getItem('skins_v19')) || [],
        ct: localStorage.getItem('ct_v19') || '',
        cs_skin: localStorage.getItem('cs_skin_v19') || '',
        admin: localStorage.getItem('admin_v19') === 'true'
    };

    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    function playSound(f, t, d) {
        const o = ctx.createOscillator(); const g = ctx.createGain();
        o.type = t; o.frequency.setValueAtTime(f, ctx.currentTime);
        o.connect(g); g.connect(ctx.destination);
        g.gain.setValueAtTime(0.05, ctx.currentTime);
        g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + d);
        o.start(); o.stop(ctx.currentTime + d);
    }

    const sSounds = {
        'cat': () => { playSound(800, 'sine', 0.2); setTimeout(()=>playSound(1200, 'sine', 0.2), 50); },
        'heart': () => playSound(400, 'triangle', 0.3),
        'alien': () => playSound(1500, 'sawtooth', 0.1),
        'fire': () => playSound(200, 'square', 0.1),
        'ua': () => playSound(523, 'sine', 0.3),
        'king': () => playSound(1000, 'sine', 0.1),
        '': () => playSound(600, 'sine', 0.1)
    };

    const thB = { 'bg-space': 1.5, 'bg-ukraine': 2, 'bg-neon': 15, 'bg-gold': 50, 'bg-king': 1, '': 1 };
    const sB = { 'cat': 2, 'heart': 5, 'alien': 20, 'fire': 100, 'ua': 500, 'king': 1, '': 1 };
    const sI = { 'cat': 'ğŸ±', 'heart': 'â¤ï¸', 'alien': 'ğŸ‘½', 'fire': 'ğŸ”¥', 'ua': 'ğŸ”±', 'king': 'ğŸ‘‘', '': 'ĞšĞ›Ğ†Ğš' };

    function f(n) {
        if (n >= 1e21) return (n/1e21).toFixed(1) + "Sx";
        if (n >= 1e15) return (n/1e15).toFixed(1) + "Qd";
        if (n >= 1e6) return (n/1e6).toFixed(1) + "M";
        return Math.floor(n).toLocaleString();
    }

    function u() {
        document.getElementById('bal-c').innerText = f(state.c);
        document.getElementById('bal-d').innerText = f(state.d);
        
        let m = Math.pow(2, state.rb) * sB[state.cs_skin] * (thB[state.ct] || 1);
        let inc = state.p * m;
        if(state.cs_skin === 'king' || state.ct === 'bg-king') inc += 999e21;
        document.getElementById('income-display').innerText = "ĞšĞ»Ñ–Ğº: +" + f(inc);

        document.getElementById('click-btn').innerText = sI[state.cs_skin];
        document.getElementById('click-btn').className = state.cs_skin ? 'skin-' + state.cs_skin : '';
        document.getElementById('main-bg').className = state.ct;

        // ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ Ñ„Ğ¾Ğ½Ñ–Ğ² Ñ‚Ğ° ÑĞºÑ–Ğ½Ñ–Ğ²
        ['bg-space','bg-ukraine','bg-neon','bg-gold','bg-king'].forEach(t => {
            let b = document.getElementById('btn-th-' + t);
            if(b && state.th.includes(t)) { b.innerText = "ĞĞ‘Ğ ĞĞ¢Ğ˜"; b.classList.add('btn-owned'); }
        });
        ['cat','heart','alien','fire','ua','king'].forEach(s => {
            let b = document.getElementById('btn-sk-' + s);
            if(b && state.skins.includes(s)) { b.innerText = "ĞĞ‘Ğ ĞĞ¢Ğ˜"; b.classList.add('btn-owned'); }
        });

        if(state.th.includes('bg-king')) document.getElementById('k-th-row').style.display = 'flex';
        if(state.skins.includes('ua')) document.getElementById('ua-sk-row').style.display = 'flex';
        if(state.skins.includes('king')) document.getElementById('king-sk-row').style.display = 'flex';
        
        if(state.admin) {
            document.getElementById('admin-tab-btn').style.display = 'block';
            document.getElementById('tab-bar').classList.add('admin-active');
        }

        document.getElementById('p-lvl').innerText = "Ğ›Ğ²Ğ» " + f(state.p);
        document.getElementById('btn-p').innerText = state.p >= 1e21 ? "MAX" : f(state.cs);
        document.getElementById('r-lvl').innerText = state.rb;

        localStorage.setItem('c_v19', state.c); localStorage.setItem('d_v19', state.d);
        localStorage.setItem('p_v19', state.p); localStorage.setItem('cs_v19', state.cs);
        localStorage.setItem('rb_v19', state.rb); localStorage.setItem('th_v19', JSON.stringify(state.th));
        localStorage.setItem('skins_v19', JSON.stringify(state.skins)); localStorage.setItem('ct_v19', state.ct);
        localStorage.setItem('cs_skin_v19', state.cs_skin); localStorage.setItem('admin_v19', state.admin);
    }

    function doClick() {
        if(ctx.state === 'suspended') ctx.resume();
        (sSounds[state.cs_skin] || sSounds[''])();
        let m = Math.pow(2, state.rb) * sB[state.cs_skin] * (thB[state.ct] || 1);
        let gain = state.p * m;
        if(state.cs_skin === 'king' || state.ct === 'bg-king') gain += 999e21;
        state.c += gain; u();
    }

    function applyCode() {
        let val = document.getElementById('promo').value.toLowerCase();
        if(val === 'admin123') { state.admin = true; alert("ĞĞ´Ğ¼Ñ–Ğ½ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ°!"); }
        if(val === 'ukraine') { state.skins.push('ua'); state.th.push('bg-ukraine'); state.cs_skin = 'ua'; state.ct = 'bg-ukraine'; }
        if(val === 'king') { state.skins.push('king'); state.th.push('bg-king'); state.cs_skin = 'king'; state.ct = 'bg-king'; }
        document.getElementById('promo').value = ''; u();
    }

    function buySkin(id, pr) {
        if(state.skins.includes(id)) state.cs_skin = id;
        else if(state.d >= pr) { state.d -= pr; state.skins.push(id); state.cs_skin = id; } u();
    }
    function buyTheme(id, pr, ty) {
        if(state.th.includes(id)) state.ct = id;
        else if((ty==='c' && state.c>=pr) || (ty==='d' && state.d>=pr)) {
            if(ty==='c') state.c-=pr; else state.d-=pr;
            state.th.push(id); state.ct = id;
        } u();
    }

    function buyP() { if(state.c >= state.cs && state.p < 1e21) { state.c -= state.cs; state.p *= 1.6; state.cs *= 2; u(); } }
    function doRebirth() { 
        let cost = 1e6 * Math.pow(10, state.rb);
        if(state.c >= cost && state.rb < 100) { state.rb++; state.c = 0; state.p = 1; state.cs = 10; state.d += 500; u(); }
    }
    function setT(id) { state.ct = id; u(); }
    function setSkin(id) { state.cs_skin = id; u(); }
    function tab(id, btn) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active'); btn.classList.add('active');
    }
    function hardReset() { if(confirm("Ğ¡ĞºĞ¸Ğ½ÑƒÑ‚Ğ¸?")) { localStorage.clear(); location.reload(); } }
    u();
</script>
</body>
</html>